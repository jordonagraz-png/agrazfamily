<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agraz Family</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Inter:wght@300;400;500;600&family=Cormorant+Garamond:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0c1a1a;
--bg2:#111f1f;
--sand:#e8dcc8;
--sand-light:#f5efe3;
--ocean:#1a3a4a;
--ocean-light:#2a5a6a;
--ocean-deep:#0d2630;
--seafoam:#5fb8a0;
--seafoam-light:#7ed4bc;
--warm:#d4a574;
--warm-light:#e8c49a;
--sunset:#d4856a;
--text:#f0ebe3;
--text2:#a0b0b0;
--glass:rgba(12,26,26,0.65);
--glass-light:rgba(255,255,255,0.08);
--border:rgba(95,184,160,0.15);
--glow:0 0 40px rgba(95,184,160,0.1);
}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}

.ocean-bg{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;overflow:hidden}
.ocean-bg::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(180deg,#0a1520 0%,#0d2630 25%,#1a3a4a 50%,#2a5a6a 70%,#3a7a7a 85%,#5fb8a0 95%,#e8dcc8 100%);opacity:0.7}
.ocean-bg::after{content:'';position:absolute;bottom:0;left:0;width:100%;height:40%;background:linear-gradient(180deg,transparent,rgba(232,220,200,0.05))}

.wave{position:absolute;width:200%;height:200px;bottom:0;left:-50%;opacity:0.03}
.wave1{background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%235fb8a0' d='M0,224L48,208C96,192,192,160,288,165.3C384,171,480,213,576,218.7C672,224,768,192,864,181.3C960,171,1056,181,1152,186.7C1248,192,1344,192,1392,192L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'/%3E%3C/svg%3E") repeat-x;animation:waveMove 12s linear infinite;bottom:0}
.wave2{background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%23e8dcc8' d='M0,288L48,272C96,256,192,224,288,213.3C384,203,480,213,576,229.3C672,245,768,267,864,261.3C960,256,1056,224,1152,208C1248,192,1344,192,1392,192L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'/%3E%3C/svg%3E") repeat-x;animation:waveMove 18s linear infinite reverse;bottom:-20px}
@keyframes waveMove{0%{transform:translateX(0)}100%{transform:translateX(50%)}}

.floating-light{position:absolute;border-radius:50%;filter:blur(100px);opacity:0.15;animation:floatSlow 20s ease-in-out infinite}
.fl1{width:500px;height:500px;background:var(--seafoam);top:5%;right:10%}
.fl2{width:400px;height:400px;background:var(--warm);top:40%;left:5%;animation-delay:-7s}
.fl3{width:350px;height:350px;background:var(--ocean-light);bottom:15%;right:20%;animation-delay:-14s}
@keyframes floatSlow{0%,100%{transform:translate(0,0) scale(1)}33%{transform:translate(20px,-20px) scale(1.05)}66%{transform:translate(-15px,15px) scale(0.95)}}

.stars{position:absolute;width:100%;height:60%;top:0}
.star{position:absolute;width:2px;height:2px;background:#fff;border-radius:50%;animation:twinkle 4s ease-in-out infinite}
@keyframes twinkle{0%,100%{opacity:0.2}50%{opacity:0.8}}

#auth-screen .beach-bg{position:absolute;top:0;left:0;width:100%;height:100%;background:url('https://images.unsplash.com/photo-1499793983690-e29da59ef1c2?w=1920&q=85') center/cover no-repeat;z-index:0}
#auth-screen .beach-bg::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,rgba(10,22,30,0.55) 0%,rgba(26,58,74,0.4) 40%,rgba(10,22,30,0.6) 100%)}
#auth-screen .stars{position:absolute;width:100%;height:60%;top:0;z-index:1;pointer-events:none}
#auth-screen{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;align-items:center;justify-content:center}
#auth-screen .ocean-bg{position:absolute}

.auth-box{
position:relative;z-index:10;width:440px;max-width:92vw;
background:rgba(12,26,26,0.75);
border:1px solid var(--border);
border-radius:28px;padding:52px 44px;
backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);
box-shadow:0 20px 60px rgba(0,0,0,0.3),0 0 40px rgba(95,184,160,0.08),inset 0 1px 0 rgba(255,255,255,0.05);
}

.auth-logo{text-align:center;margin-bottom:36px}
.auth-logo .logo-icon{font-size:42px;margin-bottom:12px;display:block}
.auth-logo h1{font-family:'Playfair Display',serif;font-size:32px;font-weight:700;color:var(--sand-light);letter-spacing:1px}
.auth-logo p{color:var(--text2);font-size:13px;margin-top:8px;font-family:'Inter',sans-serif;letter-spacing:3px;text-transform:uppercase;font-weight:300}

.tabs{display:flex;margin-bottom:30px;border-radius:14px;background:rgba(255,255,255,0.04);overflow:hidden;border:1px solid rgba(255,255,255,0.05)}
.tab{flex:1;padding:13px;text-align:center;cursor:pointer;font-family:'Inter',sans-serif;font-weight:500;font-size:14px;color:var(--text2);transition:all 0.4s;border:none;background:none;letter-spacing:0.5px}
.tab.active{background:linear-gradient(135deg,var(--seafoam),var(--ocean-light));color:#fff;border-radius:12px;box-shadow:0 4px 15px rgba(95,184,160,0.3)}

.auth-form{display:none}.auth-form.active{display:block}

.fg{margin-bottom:20px}
.fg label{display:block;font-size:11px;color:var(--seafoam-light);margin-bottom:8px;font-family:'Inter',sans-serif;text-transform:uppercase;letter-spacing:2px;font-weight:500}
.fg input{width:100%;padding:15px 18px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.1);border-radius:14px;color:var(--text);font-family:'Inter',sans-serif;font-size:15px;transition:all 0.3s;outline:none;font-weight:300}
.fg input:focus{border-color:var(--seafoam);box-shadow:0 0 25px rgba(95,184,160,0.12);background:rgba(255,255,255,0.08)}
.fg input::placeholder{color:rgba(255,255,255,0.2)}

.auth-btn{
width:100%;padding:16px;border:none;border-radius:14px;cursor:pointer;
font-family:'Inter',sans-serif;font-size:14px;font-weight:600;
background:linear-gradient(135deg,var(--seafoam),var(--ocean-light));
color:#fff;letter-spacing:1.5px;text-transform:uppercase;
transition:all 0.4s;margin-top:10px;
box-shadow:0 4px 20px rgba(95,184,160,0.25);
}
.auth-btn:hover{transform:translateY(-2px);box-shadow:0 8px 35px rgba(95,184,160,0.35)}

.family-quick-btn{
width:100%;padding:18px;border:2px solid var(--seafoam);border-radius:16px;cursor:pointer;
background:linear-gradient(135deg,rgba(95,184,160,0.12),rgba(42,90,106,0.12));
display:flex;flex-direction:column;align-items:center;gap:4px;
transition:all 0.4s;margin-bottom:20px;
}
.family-quick-btn:hover{background:linear-gradient(135deg,rgba(95,184,160,0.22),rgba(42,90,106,0.22));transform:translateY(-2px);box-shadow:0 8px 30px rgba(95,184,160,0.2)}
.fq-icon{font-size:28px;display:block}
.fq-text{font-family:'Inter',sans-serif;font-size:15px;font-weight:600;color:var(--seafoam-light);letter-spacing:0.5px}
.fq-sub{font-family:'Inter',sans-serif;font-size:11px;color:var(--text2);font-weight:300}

.divider{text-align:center;margin-bottom:20px;position:relative}
.divider::before{content:'';position:absolute;top:50%;left:0;right:0;height:1px;background:rgba(255,255,255,0.08)}
.divider span{position:relative;background:rgba(12,26,26,0.75);padding:0 14px;font-family:'Inter',sans-serif;font-size:11px;color:var(--text2);text-transform:uppercase;letter-spacing:1.5px;font-weight:300}

.err{color:var(--sunset);font-size:13px;text-align:center;margin-top:14px;font-family:'Inter',sans-serif;min-height:20px}
.ok{color:var(--seafoam-light);font-size:13px;text-align:center;margin-top:14px;font-family:'Inter',sans-serif}

#main-site{display:none;position:relative;z-index:1}

nav{position:fixed;top:0;left:0;width:100%;z-index:100;background:rgba(12,26,26,0.85);backdrop-filter:blur(25px);-webkit-backdrop-filter:blur(25px);border-bottom:1px solid var(--border)}
.nav-inner{max-width:1200px;margin:0 auto;padding:0 24px;display:flex;align-items:center;justify-content:space-between;height:72px}
.nav-brand{font-family:'Playfair Display',serif;font-weight:700;font-size:22px;color:var(--sand-light);display:flex;align-items:center;gap:10px}
.nav-brand .brand-icon{font-size:24px}
.nav-links{display:flex;gap:36px;align-items:center}
.nav-links a{color:var(--text2);text-decoration:none;font-weight:400;font-size:14px;transition:all 0.3s;letter-spacing:0.5px;position:relative}
.nav-links a:hover{color:var(--seafoam-light)}
.nav-links a::after{content:'';position:absolute;bottom:-4px;left:0;width:0;height:1px;background:var(--seafoam);transition:width 0.3s}
.nav-links a:hover::after{width:100%}
.nav-user{display:flex;align-items:center;gap:14px}
.nav-user span{font-size:13px;color:var(--seafoam-light);font-family:'Inter',sans-serif;font-weight:300}
.logout-btn{padding:8px 22px;border:1px solid var(--border);border-radius:10px;background:transparent;color:var(--text2);cursor:pointer;font-family:'Inter',sans-serif;font-size:13px;transition:all 0.3s;font-weight:400}
.logout-btn:hover{border-color:var(--sunset);color:var(--sunset)}

.hero{min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:120px 24px 80px;position:relative}
.hero-content{max-width:800px;position:relative;z-index:2}
.hero-icon{font-size:56px;margin-bottom:20px;display:block}
.hero h1{font-family:'Playfair Display',serif;font-size:clamp(38px,6vw,68px);font-weight:700;line-height:1.15;margin-bottom:24px;color:var(--sand-light)}
.hero h1 .gr{background:linear-gradient(135deg,var(--seafoam-light),var(--warm-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero p{font-family:'Inter',sans-serif;font-size:17px;color:var(--text2);line-height:1.8;max-width:580px;margin:0 auto 44px;font-weight:300}
.hero-stats{display:flex;justify-content:center;gap:56px;margin-top:52px}
.stat{text-align:center}
.stat-num{font-family:'Playfair Display',serif;font-size:40px;font-weight:700;color:var(--seafoam-light)}
.stat-lbl{font-family:'Inter',sans-serif;font-size:11px;color:var(--text2);text-transform:uppercase;letter-spacing:3px;margin-top:6px;font-weight:400}

.section{padding:100px 24px;max-width:1100px;margin:0 auto}
.section-hdr{text-align:center;margin-bottom:64px}
.section-hdr h2{font-family:'Playfair Display',serif;font-size:36px;font-weight:700;margin-bottom:16px;color:var(--sand-light)}
.section-hdr .accent-line{width:60px;height:2px;background:linear-gradient(90deg,var(--seafoam),var(--warm));margin:16px auto;border-radius:2px}
.section-hdr p{font-family:'Inter',sans-serif;color:var(--text2);font-size:15px;font-weight:300;line-height:1.7}

.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:28px}
.card{
background:var(--glass);border:1px solid var(--border);
border-radius:22px;padding:40px;transition:all 0.5s;
position:relative;overflow:hidden;
backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
}
.card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--seafoam),var(--warm));opacity:0;transition:opacity 0.5s;border-radius:22px 22px 0 0}
.card:hover{transform:translateY(-6px);box-shadow:0 20px 50px rgba(0,0,0,0.2),0 0 30px rgba(95,184,160,0.08)}
.card:hover::before{opacity:1}
.card-icon{font-size:32px;margin-bottom:20px;display:block}
.card h3{font-family:'Playfair Display',serif;font-size:20px;margin-bottom:14px;color:var(--sand-light);font-weight:600}
.card p{font-family:'Inter',sans-serif;color:var(--text2);font-size:14px;line-height:1.8;font-weight:300}

.members{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:24px}
.mc{background:var(--glass);border:1px solid var(--border);border-radius:22px;padding:36px;text-align:center;transition:all 0.5s;backdrop-filter:blur(10px)}
.mc:hover{transform:translateY(-6px);box-shadow:0 15px 40px rgba(0,0,0,0.2)}
.ma{width:80px;height:80px;border-radius:50%;margin:0 auto 18px;background:linear-gradient(135deg,var(--seafoam),var(--ocean-light));display:flex;align-items:center;justify-content:center;font-family:'Playfair Display',serif;font-size:26px;font-weight:700;color:#fff;box-shadow:0 4px 20px rgba(95,184,160,0.25)}
.mc h3{font-family:'Playfair Display',serif;font-size:17px;margin-bottom:6px;color:var(--sand-light)}
.mc p{font-family:'Inter',sans-serif;color:var(--text2);font-size:12px;font-weight:300}

.tl{max-width:700px;margin:0 auto;position:relative}
.tl::before{content:'';position:absolute;left:24px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,var(--seafoam),var(--warm),var(--sunset))}
.ti{padding-left:64px;margin-bottom:44px;position:relative}
.td{position:absolute;left:16px;top:4px;width:18px;height:18px;border-radius:50%;background:var(--seafoam);border:3px solid var(--bg);box-shadow:0 0 15px rgba(95,184,160,0.3)}
.ty{font-family:'Inter',sans-serif;font-size:12px;color:var(--seafoam-light);margin-bottom:8px;letter-spacing:2px;text-transform:uppercase;font-weight:500}
.ti h3{font-family:'Playfair Display',serif;font-size:22px;font-weight:600;margin-bottom:8px;color:var(--sand-light)}
.ti p{font-family:'Inter',sans-serif;color:var(--text2);font-size:14px;line-height:1.7;font-weight:300}

footer{border-top:1px solid var(--border);padding:48px 24px;text-align:center;font-family:'Inter',sans-serif;color:var(--text2);font-size:13px;font-weight:300;position:relative;z-index:2}
footer .fb{font-family:'Playfair Display',serif;font-size:18px;color:var(--sand-light);margin-bottom:8px;font-weight:600}
footer .footer-tagline{font-size:12px;color:var(--text2);letter-spacing:2px;margin-bottom:16px}

@media(max-width:768px){.nav-links{display:none}.hero-stats{flex-direction:column;gap:28px}.auth-box{padding:36px 28px}.cards{grid-template-columns:1fr}}

::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:rgba(95,184,160,0.2);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:rgba(95,184,160,0.35)}

.fi{opacity:0;transform:translateY(24px);transition:all 0.7s cubic-bezier(0.25,0.46,0.45,0.94)}.fi.v{opacity:1;transform:translateY(0)}
</style>
</head>
<body>

<div id="auth-screen">
<div class="beach-bg"></div>
<div class="stars" id="auth-stars"></div>

<div class="auth-box">
<div class="auth-logo">
<span class="logo-icon">&#127958;</span>
<h1>Agraz Family</h1>

</div>

<button class="family-quick-btn" onclick="familyQuickLogin()">
<span class="fq-icon">&#127968;</span>
<span class="fq-text">Family Quick Access</span>
<span class="fq-sub">Tap to enter as Agraz Family</span>
</button>

<div class="divider"><span>or sign in with your account</span></div>

<div class="tabs">
<button class="tab active" onclick="switchTab('login')">Sign In</button>
<button class="tab" onclick="switchTab('register')">Join Family</button>
</div>

<form id="login-form" class="auth-form active" onsubmit="handleLogin(event)">
<div class="fg"><label>Email</label><input type="email" id="le" placeholder="your@email.com" required></div>
<div class="fg"><label>Password</label><input type="password" id="lp" placeholder="Enter your password" required></div>
<button type="submit" class="auth-btn">Come On In</button>
<div id="lerr" class="err"></div>
</form>

<form id="register-form" class="auth-form" onsubmit="handleRegister(event)">
<div class="fg"><label>Full Name</label><input type="text" id="rn" placeholder="Your full name" required></div>
<div class="fg"><label>Email</label><input type="email" id="re" placeholder="your@email.com" required></div>
<div class="fg"><label>Password</label><input type="password" id="rp" placeholder="Create a password" required minlength="6"></div>
<div class="fg"><label>Family Code</label><input type="text" id="rc" placeholder="Enter family invite code" required></div>
<button type="submit" class="auth-btn">Join the Family</button>
<div id="rerr" class="err"></div>
<div id="rok" class="ok"></div>
</form>
</div>
</div>

<div id="main-site">
<div class="ocean-bg">
<div class="floating-light fl1"></div>
<div class="floating-light fl2"></div>
<div class="floating-light fl3"></div>
<div class="stars" id="main-stars"></div>
<div class="wave wave1"></div>
<div class="wave wave2"></div>
</div>

<nav>
<div class="nav-inner">
<div class="nav-brand"><span class="brand-icon">&#127958;</span> Agraz Family</div>
<div class="nav-links">
<a href="#home">Home</a>
<a href="#about">Our Space</a>
<a href="#members">Family</a>
<a href="#milestones">Memories</a>
</div>
<div class="nav-user">
<span id="ud"></span>
<button class="logout-btn" onclick="handleLogout()">Logout</button>
</div>
</div>
</nav>

<section class="hero" id="home">
<div class="hero-content fi">
<span class="hero-icon">&#127754;</span>
<h1>Welcome to<br><span class="gr">The Agraz Family</span></h1>
<p>A private family space where the ocean breeze meets warm memories. Stay connected, share moments, and feel at home no matter the distance.</p>
<div class="hero-stats">
<div class="stat"><div class="stat-num" id="mc">0</div><div class="stat-lbl">Family Members</div></div>
<div class="stat"><div class="stat-num">&infin;</div><div class="stat-lbl">Memories</div></div>
<div class="stat"><div class="stat-num">1</div><div class="stat-lbl">Family</div></div>
</div>
</div>
</section>

<section class="section" id="about">
<div class="section-hdr fi">
<h2>Our Family Hub</h2>
<div class="accent-line"></div>
<p>Everything that makes the Agraz family special, all in one place</p>
</div>
<div class="cards">
<div class="card fi">
<span class="card-icon">&#128247;</span>
<h3>Shared Memories</h3>
<p>A place to upload and relive our favorite photos and videos from family gatherings, holidays, and everyday moments.</p>
</div>
<div class="card fi">
<span class="card-icon">&#127749;</span>
<h3>Family Events</h3>
<p>Never miss a birthday, anniversary, or reunion. Our shared calendar keeps everyone in sync.</p>
</div>
<div class="card fi">
<span class="card-icon">&#128155;</span>
<h3>Stay Connected</h3>
<p>Share updates, stories, recipes, and traditions. Keep our family bonds strong across any distance.</p>
</div>
<a href="https://www.ancestry.com/family-tree/tree/191301314/family?cfpid=182483266401" target="_blank" rel="noopener" class="card fi" style="text-decoration:none;color:inherit">
<span class="card-icon">&#127795;</span>
<h3>Family Tree</h3>
<p>Explore our roots and see how our family connects through generations on Ancestry.</p>
</a>
</div>
</section>

<section class="section" id="members">
<div class="section-hdr fi">
<h2>Our Family</h2>
<div class="accent-line"></div>
<p>The amazing people who make up our family</p>
</div>
<div class="members" id="mg"></div>
</section>

<section class="section" id="milestones">
<div class="section-hdr fi">
<h2>Family Milestones</h2>
<div class="accent-line"></div>
<p>The moments that define our journey together</p>
</div>
<div class="tl fi">
<div class="ti"><div class="td"></div><div class="ty">2024</div><h3>Family Website Launched</h3><p>We created our private digital space to bring the family closer together.</p></div>
<div class="ti"><div class="td"></div><div class="ty">2025</div><h3>Growing Together</h3><p>New beginnings, new memories, and a stronger bond than ever before.</p></div>
<div class="ti"><div class="td"></div><div class="ty">Forever</div><h3>Our Legacy Continues</h3><p>Building a lasting legacy for generations of the Agraz family to come.</p></div>
</div>
</section>

<footer>
<div class="fb">&#127958; Agraz Family</div>
<div class="footer-tagline">Where the ocean meets home</div>
<p>&copy; 2025 Agraz Family Portal &mdash; Private &amp; Secure</p>
</footer>
</div>

<script>
function createStars(containerId,count){var c=document.getElementById(containerId);if(!c)return;for(var i=0;i<count;i++){var s=document.createElement('div');s.className='star';s.style.left=Math.random()*100+'%';s.style.top=Math.random()*100+'%';s.style.animationDelay=Math.random()*4+'s';s.style.animationDuration=(3+Math.random()*3)+'s';c.appendChild(s);}}
createStars('auth-stars',40);createStars('main-stars',40);

var FC='agraz2025';
function gU(){var u=JSON.parse(localStorage.getItem('af_u')||'[]');if(!u.find(function(x){return x.email==='family@agrazfamily.com';})){u.push({name:'Agraz Family',email:'family@agrazfamily.com',password:'Agraz2025!',joinedDate:'2025-01-01T00:00:00.000Z'});localStorage.setItem('af_u',JSON.stringify(u));}return u;}
function sU(u){localStorage.setItem('af_u',JSON.stringify(u));}
function gC(){return JSON.parse(sessionStorage.getItem('af_c')||'null');}
function sC(u){sessionStorage.setItem('af_c',JSON.stringify(u));}

function switchTab(t){document.querySelectorAll('.tab').forEach(function(x){x.classList.remove('active');});document.querySelectorAll('.auth-form').forEach(function(x){x.classList.remove('active');});if(t==='login'){document.querySelectorAll('.tab')[0].classList.add('active');document.getElementById('login-form').classList.add('active');}else{document.querySelectorAll('.tab')[1].classList.add('active');document.getElementById('register-form').classList.add('active');}document.getElementById('lerr').textContent='';document.getElementById('rerr').textContent='';document.getElementById('rok').textContent='';}

function handleRegister(e){e.preventDefault();var n=document.getElementById('rn').value.trim(),em=document.getElementById('re').value.trim().toLowerCase(),pw=document.getElementById('rp').value,co=document.getElementById('rc').value.trim();document.getElementById('rerr').textContent='';document.getElementById('rok').textContent='';if(co!==FC){document.getElementById('rerr').textContent='Invalid family code. Ask a family member for the code.';return;}var us=gU();if(us.find(function(u){return u.email===em;})){document.getElementById('rerr').textContent='An account with this email already exists.';return;}us.push({name:n,email:em,password:pw,joinedDate:new Date().toISOString()});sU(us);document.getElementById('rok').textContent='Welcome to the family! You can now sign in.';document.getElementById('register-form').reset();setTimeout(function(){switchTab('login');},1500);}

function familyQuickLogin(){var us=gU(),u=us.find(function(x){return x.email==='family@agrazfamily.com';});if(u){sC(u);showMain(u);}}

function handleLogin(e){e.preventDefault();var em=document.getElementById('le').value.trim().toLowerCase(),pw=document.getElementById('lp').value;document.getElementById('lerr').textContent='';var us=gU(),u=us.find(function(x){return x.email===em&&x.password===pw;});if(!u){document.getElementById('lerr').textContent='Invalid email or password.';return;}sC(u);showMain(u);}

function handleLogout(){sessionStorage.removeItem('af_c');document.getElementById('auth-screen').style.display='flex';document.getElementById('main-site').style.display='none';document.getElementById('login-form').reset();}

function showMain(u){document.getElementById('auth-screen').style.display='none';document.getElementById('main-site').style.display='block';document.getElementById('ud').textContent=u.name;renderM();initAnim();}

function renderM(){var us=gU(),g=document.getElementById('mg');document.getElementById('mc').textContent=us.length;g.innerHTML=us.map(function(u){var i=u.name.split(' ').map(function(n){return n[0];}).join('').toUpperCase();return '<div class="mc fi"><div class="ma">'+i+'</div><h3>'+u.name+'</h3><p>Joined '+new Date(u.joinedDate).toLocaleDateString()+'</p></div>';}).join('');}

function initAnim(){var o=new IntersectionObserver(function(entries){entries.forEach(function(entry){if(entry.isIntersecting)entry.target.classList.add('v');});},{threshold:0.1});document.querySelectorAll('.fi').forEach(function(el){o.observe(el);});}

document.querySelectorAll('a[href^="#"]').forEach(function(a){a.addEventListener('click',function(e){e.preventDefault();document.querySelector(a.getAttribute('href')).scrollIntoView({behavior:'smooth'});});});

window.addEventListener('DOMContentLoaded',function(){var u=gC();if(u)showMain(u);});
</script>
</body>
</html>
